<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIDF Animation</title>
  <link rel="apple-touch-icon" sizes="180x180" href="./assets/frontend_assets/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/frontend_assets/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./assets/frontend_assets/img/favicon-16x16.png">
  <link rel="stylesheet" href="./assets/frontend_assets/css/fonts/style.css" />
  <!-- styles -->
  <link rel="stylesheet" href="./assets/frontend_assets/css/main.css" />
  <!-- Owl Carousel CSS-->
  <link rel="stylesheet" href="./assets/frontend_assets/owlcarousel/assets/owl.carousel.min.css">
  <link rel="stylesheet" href="./assets/frontend_assets/owlcarousel/assets/owl.theme.default.min.css">
</head>

<body>
  <div class="main_box">
    <div class="fadeOut owl-carousel owl-theme slider_box slider_one">
    </div>
    <div class="modal_box" id="modal1">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
    <div class="modal_box" id="modal2">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
  </div>
  <div class="main_box">
    <div class="fadeOut owl-carousel owl-theme slider_box slider_two">
    </div>
    <div class="modal_box" id="modal3">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
  </div>
  <div class="main_box">
    <div class="fadeOut owl-carousel owl-theme slider_box slider_three">
    </div>
    <div class="modal_box" id="modal4">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
    <div class="modal_box" id="modal5">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
    <div class="modal_box" id="modal6">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
  </div>
  <div class="main_box">
    <div class="fadeOut owl-carousel owl-theme slider_box slider_four">
    </div>
    <div class="modal_box" id="modal7">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
    <div class="modal_box" id="modal8">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
    <div class="modal_box" id="modal9">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
  </div>
  <div class="main_box">
    <div class="fadeOut owl-carousel owl-theme slider_box slider_five">
    </div>
    <div class="modal_box" id="modal10">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
    <div class="modal_box" id="modal11">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
  </div>
  <div class="main_box">
    <div class="fadeOut owl-carousel owl-theme slider_box slider_six">
    </div>
    <div class="modal_box" id="modal12">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
    <div class="modal_box" id="modal13">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
  </div>
  <div class="main_box">
    <div class="fadeOut owl-carousel owl-theme slider_box slider_seven">
    </div>
    <div class="modal_box" id="modal14">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div>
    <!-- <div class="modal_box" id="modal15">
      <div class="owl-carousel owl-theme content_slider">
      </div>
      <div class="lang-toggle">
        <span class="lang-eng active">English</span>&nbsp;/
        <span class="lang-ar">عربی</span>
      </div>
      <span class="close-modal"><img src="./assets/frontend_assets/img/close-cross.svg" alt=""></span>
    </div> -->
  </div>






  <section class="bottom_upper_section">
    <div class="box_pin box_pin_one">
      <div class="pulsating-circle" data-modal_id="modal1"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic"></p>
        <p class="text english"></p>
      </div>
    </div>
    <div class="box_pin box_pin_two">
      <div class="pulsating-circle" data-modal_id="modal2"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic"></p>
        <p class="text english"></p>
      </div>
    </div>
    <div class="box_pin box_pin_three">
      <div class="pulsating-circle" data-modal_id="modal3"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic"></p>
        <p class="text english"></p>
      </div>
    </div>
    <div class="box_pin box_pin_four">
      <div class="pulsating-circle" data-modal_id="modal4"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic"></p>
        <p class="text english"></p>
      </div>
    </div>
    <div class="box_pin box_pin_five">
      <div class="pulsating-circle" data-modal_id="modal5"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic"></p>
        <p class="text english"></p>
      </div>
    </div>
    <div class="box_pin box_pin_six">
      <div class="pulsating-circle" data-modal_id="modal6"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic"></p>
        <p class="text english"></p>
      </div>
    </div>
    <div class="box_pin box_pin_seven">
      <div class="pulsating-circle" data-modal_id="modal7"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic"></p>
        <p class="text english"></p>
      </div>
    </div>
    <div class="box_pin box_pin_eight">
      <div class="pulsating-circle" data-modal_id="modal8"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic"></p>
        <p class="text english"></p>
      </div>
    </div>
    <div class="box_pin box_pin_nine">
      <div class="pulsating-circle" data-modal_id="modal9"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic text-center text-white new_txt"></p>
        <p class="text english text-center text-white new_txt"></p>
        <img src="" alt="" class="mx_auto">
      </div>
    </div>
    <div class="box_pin box_pin_ten white_blob">
      <div class="pulsating-circle" data-modal_id="modal10"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic text-white"></p>
        <p class="text english text-white">
        </p>
      </div>
    </div>
    <div class="box_pin box_pin_eleven white_blob">
      <div class="pulsating-circle" data-modal_id="modal11"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic text-white"></p>
        <p class="text english text-white">
        </p>
      </div>
    </div>
    <div class="box_pin box_pin_twelve white_blob">
      <div class="pulsating-circle" data-modal_id="modal12"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic text-white"></p>
        <p class="text english text-white">
        </p>
      </div>
    </div>
    <div class="box_pin box_pin_thirteen white_blob">
      <div class="pulsating-circle" data-modal_id="modal13"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic text-white"></p>
        <p class="text english text-white">
        </p>
      </div>
    </div>
    <div class="box_pin box_pin_fourteen white_blob">
      <div class="pulsating-circle" data-modal_id="modal14"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic text-white"></p>
        <p class="text english text-white">
        </p>
      </div>
    </div>
    <!-- <div class="box_pin box_pin_fifteen white_blob">
      <div class="pulsating-circle" data-modal_id="modal15"></div>
      <span class="border_verti"></span>
      <div class="timeline_items">
        <h3></h3>
        <p class="text arabic text-white"></p>
        <p class="text english text-white">
        </p>
      </div>
    </div> -->
  </section>
  <section class="bottom_section">
    <img src="./assets/frontend_assets/img/bg_new_img.png" alt="">
  </section>
  <!-- javascript -->
  <script src="./assets/frontend_assets/js/jquery.min.js"></script>
  <script src="./assets/frontend_assets/owlcarousel/owl.carousel.js"></script>
  <script src="./assets/frontend_assets/js/main.js"></script>
  <script>
    function playSlider(element) {
      $(element).trigger('next.owl.carousel');
      $(element).trigger('play.owl.autoplay')
    }

    function pauseSlider(element) {
      $(element).trigger('stop.owl.autoplay')
    }
    function playModalSlider(element) {
      $(element).find('.content_slider').trigger('next.owl.carousel');
      $(element).find('.content_slider').trigger('play.owl.autoplay')
    }

    function pauseModalSlider(element) {
      console.log('modal carousal paused')
      $(element).find('.content_slider').trigger('stop.owl.autoplay')
    }
    function readTextFile(file, callback) {
      var rawFile = new XMLHttpRequest();
      rawFile.overrideMimeType("application/json");
      rawFile.open("GET", file, true);
      rawFile.onreadystatechange = function () {
        if (rawFile.readyState === 4 && rawFile.status == "200") {
          callback(rawFile.responseText);
        }
      }
      rawFile.send(null);
    }

    //Timeline_items:
    readTextFile("timeline_items.json", function (text) {
      var data = JSON.parse(text);
      var timeline_items = document.querySelectorAll('.timeline_items');
      timeline_items.forEach(function (timeline_item, i) {
        // console.log(data.timeline_items[i])
        $(timeline_item).find('h3').html(data.timeline_items[i].title);
        //first dom element data is added
        $(timeline_item).find('.english').html(data.timeline_items[i].titles_en[0])
        $(timeline_item).find('.arabic').html(data.timeline_items[i].titles_ar[0]);
        //if there are more titles then clone the dom element, change the html and append it to the container but skip the first title
        data.timeline_items[i].titles_ar.forEach(function (title_ar, j) {
          if(j !== 0) {
            $(timeline_item).find('.arabic').clone().html(title_ar).appendTo(timeline_item);
          } 
        })
        data.timeline_items[i].titles_en.forEach(function (title_en, j) {
          if(j !== 0) {
            $(timeline_item).find('.english').clone().html(title_en).appendTo(timeline_item);
          } 
        })
        if (data.timeline_items[i].image && i == 8) {
          $(timeline_item).find('img').attr('src', data.timeline_items[i].image);
        }
      })
    });

    //Screens:
    readTextFile("screens.json", function (text) {
      var data = JSON.parse(text);
      // console.log(data);
      var screens = document.querySelectorAll('.main_box');
      screens.forEach(function (screen, i) {
        var html = '';
        data.screens[i].media.forEach(function (media) {
          // html += '<div class="item"><img src="' + media + '" alt="" class="img_slid"></div>'
          html += media
        })
        $(screen).find('.slider_box').html(html)
        $(screen).find('.slider_box').owlCarousel({
          items: 1,
          animateOut: "fadeOut",
          dots: false,
          autoplayTimeout: 5000,
          autoplay: true,
          lazyLoad: true,
          loop: true,
          margin: 0,
          onInitialized: initialized,
          onTranslated: translated,
        });
      })

      function translated(e) {
        var i = e.currentTarget;
        // var item = $(i).find('.owl-item.active .img-fluid')
        $(i).find('.owl-item video').each(function (index, value) {
          this.pause();
          this.currentTime = 0;
        });
        $(i).find('.owl-item.active video').each(function (index, value) {
          this.play();
        });
      }
      function initialized(e) {
        var i = e.currentTarget;
        // console.log(i);
        var item = $(i).find('.owl-item.active .img_slid')
        if (item[0].nodeName == 'VIDEO') {
          item[0].play()
        }
      }
    });

  </script>
</body>

</html>